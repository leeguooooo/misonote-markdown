---
title: "Misonote Markdown å•†ä¸šåŒ–åŠŸèƒ½æ¶æ„æ€»ç»“"
---

# Misonote Markdown å•†ä¸šåŒ–åŠŸèƒ½æ¶æ„æ€»ç»“

## ğŸ—ï¸ æ•´ä½“æ¶æ„æ¦‚è§ˆ

### ä»£ç ä»“åº“ç»“æ„
```
misonote-markdown (å…¬å¼€ä»“åº“)
â”œâ”€â”€ src/core/           # æ ¸å¿ƒåŠŸèƒ½ (å¼€æº)
â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç³»ç»Ÿ
â”‚   â”œâ”€â”€ api/           # API å·¥å…·
â”‚   â”œâ”€â”€ database/      # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ docs/          # æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ mcp/           # MCP é›†æˆ
â”‚   â””â”€â”€ logger.ts      # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ src/community/      # ç¤¾åŒºåŠŸèƒ½ (å¼€æº)
â”‚   â”œâ”€â”€ comments/      # è¯„è®ºç³»ç»Ÿ
â”‚   â””â”€â”€ search/        # æœç´¢åŠŸèƒ½
â”œâ”€â”€ src/business/       # å•†ä¸šæ¡†æ¶ (å¼€æº)
â”‚   â”œâ”€â”€ license/       # è®¸å¯è¯ç®¡ç†
â”‚   â”œâ”€â”€ features/      # åŠŸèƒ½é—¨æ§
â”‚   â”œâ”€â”€ plugins/       # æ’ä»¶ç³»ç»Ÿ
â”‚   â””â”€â”€ analytics/     # ä½¿ç”¨ç»Ÿè®¡
â”œâ”€â”€ src/enterprise/     # ä¼ä¸šæ¥å£ (å¼€æº)
â”‚   â”œâ”€â”€ user-management/
â”‚   â”œâ”€â”€ permissions/
â”‚   â”œâ”€â”€ backup/
â”‚   â””â”€â”€ integrations/
â””â”€â”€ enterprise/         # git submodule â†’ ç§æœ‰ä»“åº“

misonote-enterprise (ç§æœ‰ä»“åº“)
â”œâ”€â”€ modules/            # ä¼ä¸šåŠŸèƒ½å®ç°
â”œâ”€â”€ integrations/       # ç¬¬ä¸‰æ–¹é›†æˆ
â””â”€â”€ plugins/            # ä¼ä¸šæ’ä»¶
```

### æŠ€æœ¯æ ˆå±‚æ¬¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend (Next.js)            â”‚ ğŸ¨ ç”¨æˆ·ç•Œé¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         API Middleware Layer            â”‚ ğŸšª åŠŸèƒ½é—¨æ§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Business Logic Layer             â”‚ ğŸ’¼ å•†ä¸šé€»è¾‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Core Services Layer             â”‚ âš™ï¸ æ ¸å¿ƒæœåŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Database & Storage Layer         â”‚ ğŸ’¾ æ•°æ®å­˜å‚¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’° å•†ä¸šæ¨¡å¼æ¶æ„

### ç‰ˆæœ¬åŠŸèƒ½å¯¹æ¯”
| åŠŸèƒ½åˆ†ç±» | ç¤¾åŒºç‰ˆ | ä¸“ä¸šç‰ˆ | ä¼ä¸šç‰ˆ |
|---------|--------|--------|--------|
| **åŸºç¡€åŠŸèƒ½** |
| æ–‡æ¡£ç®¡ç† | âœ… | âœ… | âœ… |
| Markdown æ¸²æŸ“ | âœ… | âœ… | âœ… |
| MCP æ”¯æŒ | âœ… | âœ… | âœ… |
| è¯„è®ºç³»ç»Ÿ | âœ… | âœ… | âœ… |
| æœç´¢åŠŸèƒ½ | âœ… | âœ… | âœ… |
| **ç”¨æˆ·ç®¡ç†** |
| æœ€å¤§ç”¨æˆ·æ•° | 1 | 10 | æ— é™ |
| åŸºç¡€æƒé™ | âŒ | âœ… | âœ… |
| é«˜çº§æƒé™ | âŒ | âŒ | âœ… |
| SSO é›†æˆ | âŒ | âŒ | âœ… |
| **æ•°æ®ç®¡ç†** |
| åŸºç¡€å¤‡ä»½ | âœ… | âœ… | âœ… |
| é«˜çº§å¤‡ä»½ | âŒ | âœ… | âœ… |
| æ•°æ®è¿ç§» | âŒ | âŒ | âœ… |
| å®¡è®¡æ—¥å¿— | âŒ | âŒ | âœ… |
| **é›†æˆåŠŸèƒ½** |
| Webhook | âŒ | âœ… | âœ… |
| API é™åˆ¶ | âŒ | âŒ | âœ… |
| è‡ªå®šä¹‰æ’ä»¶ | âŒ | âŒ | âœ… |
| **æ”¯æŒæœåŠ¡** |
| æŠ€æœ¯æ”¯æŒ | ç¤¾åŒº | é‚®ä»¶ | ä¼˜å…ˆçº§ |
| è‡ªå®šä¹‰å¼€å‘ | âŒ | âŒ | âœ… |
| **å®šä»·** | å…è´¹ | $29/æœˆ | $99/æœˆ |

### æ”¶å…¥æ¨¡å¼
1. **è®¢é˜…æ”¶è´¹** - æœˆåº¦/å¹´åº¦è®¢é˜…
2. **è®¸å¯è¯é”€å”®** - æ°¸ä¹…è®¸å¯è¯
3. **æŠ€æœ¯æ”¯æŒ** - ä¸“ä¸šæœåŠ¡
4. **å®šåˆ¶å¼€å‘** - ä¼ä¸šå®šåˆ¶
5. **æ’ä»¶å¸‚åœº** - æ’ä»¶åˆ†æˆ

## ğŸ”§ å·²å®ç°çš„æ ¸å¿ƒç»„ä»¶

### 1. è®¸å¯è¯ç®¡ç†ç³»ç»Ÿ
```typescript
// æ ¸å¿ƒç±»
class LicenseManager {
  validateLicense(licenseKey?: string): Promise<LicenseValidation>
  getCurrentLicense(): License | null
  hasFeature(feature: string): boolean
  getMaxUsers(): number
  getLicenseType(): LicenseType
}

// è®¸å¯è¯æ ¼å¼
interface License {
  id: string
  type: 'community' | 'professional' | 'enterprise'
  organization: string
  maxUsers: number
  features: string[]
  expiresAt: Date | null
  signature: string
}
```

### 2. åŠŸèƒ½é—¨æ§ç³»ç»Ÿ
```typescript
// åŠŸèƒ½æ ‡å¿—
enum FeatureFlag {
  MULTI_USER = 'multi_user'
  ADVANCED_PERMISSIONS = 'advanced_permissions'
  SSO_INTEGRATION = 'sso_integration'
  ADVANCED_BACKUP = 'advanced_backup'
  // ... æ›´å¤šåŠŸèƒ½
}

// è£…é¥°å™¨ä¿æŠ¤
@requireFeature(FeatureFlag.MULTI_USER)
async function createUser() { /* ... */ }

// ä¸­é—´ä»¶ä¿æŠ¤
export const GET = createProtectedHandler(handler, multiUserFeature);
```

### 3. API ä¿æŠ¤ä¸­é—´ä»¶
```typescript
// åŠŸèƒ½é—¨æ§ä¸­é—´ä»¶
requireFeature(feature: FeatureFlag)
requireLicense(types: LicenseType[])
requireUserLimit(count: number)

// å¸¸ç”¨ç»„åˆ
const enterpriseOnly = requireLicense([LicenseType.ENTERPRISE])
const professionalOrEnterprise = requireLicense([LicenseType.PROFESSIONAL, LicenseType.ENTERPRISE])
```

### 4. å‰ç«¯ç»„ä»¶
```typescript
// è®¸å¯è¯çŠ¶æ€æ˜¾ç¤º
<LicenseStatus />

// å‡çº§æç¤º
<UpgradePrompt 
  feature="å¤šç”¨æˆ·ç®¡ç†"
  requiredLicense={['professional', 'enterprise']}
  upgradeUrl="/pricing"
/>
```

## ğŸ“‹ æœªå®Œæˆçš„åŠŸèƒ½æ¸…å•

### ğŸ”´ é«˜ä¼˜å…ˆçº§ (ç«‹å³å¤„ç†)

#### å®‰å…¨åŠ å›º
- [ ] **å®ç°çœŸå®çš„ç­¾åéªŒè¯** (RSA/ECDSA)
- [ ] **åŠ å¼ºè®¸å¯è¯æ ¼å¼åŠ å¯†**
- [ ] **å»ºç«‹åœ¨çº¿éªŒè¯æœåŠ¡å™¨**
- [ ] **æ·»åŠ  API é€Ÿç‡é™åˆ¶**
- [ ] **å®ç°å®¡è®¡æ—¥å¿—ç³»ç»Ÿ**

#### æ ¸å¿ƒå•†ä¸šåŠŸèƒ½
- [ ] **å¤šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**
  - ç”¨æˆ·æ³¨å†Œ/ç™»å½•
  - ç”¨æˆ·è§’è‰²ç®¡ç†
  - ç”¨æˆ·æƒé™åˆ†é…
- [ ] **åŸºç¡€æƒé™æ§åˆ¶**
  - ç›®å½•çº§æƒé™
  - æ–‡æ¡£çº§æƒé™
  - æ“ä½œçº§æƒé™

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ (æœ¬æœˆå®Œæˆ)

#### ä¼ä¸šçº§åŠŸèƒ½
- [ ] **SSO é›†æˆ**
  - SAML æ”¯æŒ
  - OAuth 2.0 æ”¯æŒ
  - LDAP é›†æˆ
- [ ] **é«˜çº§å¤‡ä»½åŠŸèƒ½**
  - è‡ªåŠ¨å¤‡ä»½è°ƒåº¦
  - å¢é‡å¤‡ä»½
  - äº‘å­˜å‚¨é›†æˆ
- [ ] **æ•°æ®è¿ç§»å·¥å…·**
  - ä»å…¶ä»–å¹³å°å¯¼å…¥
  - æ•°æ®æ ¼å¼è½¬æ¢
  - æ‰¹é‡æ“ä½œ

#### ç³»ç»ŸåŠŸèƒ½
- [ ] **æ’ä»¶ç³»ç»Ÿ**
  - æ’ä»¶ SDK
  - æ’ä»¶å¸‚åœº
  - æ’ä»¶ç®¡ç†ç•Œé¢
- [ ] **é€šçŸ¥ç³»ç»Ÿ**
  - é‚®ä»¶é€šçŸ¥
  - ç«™å†…æ¶ˆæ¯
  - Webhook é€šçŸ¥

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ (ä¸‹ä¸ªå­£åº¦)

#### ç§»åŠ¨ç«¯æ”¯æŒ
- [ ] **å“åº”å¼è®¾è®¡ä¼˜åŒ–**
- [ ] **PWA æ”¯æŒ**
- [ ] **ç§»åŠ¨ç«¯ API**

#### å¾®ä¿¡ç”Ÿæ€
- [ ] **å¾®ä¿¡å°ç¨‹åº**
- [ ] **å¾®ä¿¡å…¬ä¼—å·é›†æˆ**
- [ ] **å¾®ä¿¡ç™»å½•**

#### é«˜çº§åˆ†æ
- [ ] **ä½¿ç”¨ç»Ÿè®¡åˆ†æ**
- [ ] **æ€§èƒ½ç›‘æ§**
- [ ] **ç”¨æˆ·è¡Œä¸ºåˆ†æ**

## ğŸš€ å¼€å‘åˆ†æ”¯ç­–ç•¥

### å½“å‰åˆ†æ”¯
- `main` - ç¨³å®šçš„å¼€æºç‰ˆæœ¬
- `feature/business-architecture` - å•†ä¸šåŒ–å¼€å‘åˆ†æ”¯

### åˆ†æ”¯è§„åˆ’
```
main (å¼€æºç¨³å®šç‰ˆ)
â”œâ”€â”€ feature/business-architecture (å•†ä¸šåŒ–ä¸»åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/license-security (è®¸å¯è¯å®‰å…¨åŠ å›º)
â”‚   â”œâ”€â”€ feature/user-management (ç”¨æˆ·ç®¡ç†)
â”‚   â”œâ”€â”€ feature/permissions (æƒé™ç³»ç»Ÿ)
â”‚   â””â”€â”€ feature/enterprise-backup (ä¼ä¸šå¤‡ä»½)
â”œâ”€â”€ feature/mobile-support (ç§»åŠ¨ç«¯æ”¯æŒ)
â””â”€â”€ feature/wechat-integration (å¾®ä¿¡é›†æˆ)
```

### åˆå¹¶ç­–ç•¥
1. **åŠŸèƒ½å®Œæˆ** â†’ åˆå¹¶åˆ° `feature/business-architecture`
2. **å•†ä¸šç‰ˆç¨³å®š** â†’ åˆå¹¶åˆ° `main` (ä¿æŒå¼€æºæ ¸å¿ƒ)
3. **ä¼ä¸šåŠŸèƒ½** â†’ ä¿æŒåœ¨ç§æœ‰ä»“åº“

## ğŸ“Š æŠ€æœ¯å€ºåŠ¡å’Œæ”¹è¿›ç‚¹

### ä»£ç è´¨é‡
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] å®ç°é›†æˆæµ‹è¯•
- [ ] ä»£ç è´¨é‡æ£€æŸ¥
- [ ] æ€§èƒ½ä¼˜åŒ–

### æ–‡æ¡£å®Œå–„
- [ ] API æ–‡æ¡£ç”Ÿæˆ
- [ ] å¼€å‘è€…æŒ‡å—
- [ ] éƒ¨ç½²æ–‡æ¡£
- [ ] æ•…éšœæ’é™¤æŒ‡å—

### åŸºç¡€è®¾æ–½
- [ ] CI/CD ä¼˜åŒ–
- [ ] Docker é•œåƒä¼˜åŒ–
- [ ] ç›‘æ§å’Œæ—¥å¿—
- [ ] å¤‡ä»½ç­–ç•¥

## ğŸ¯ é‡Œç¨‹ç¢‘è§„åˆ’

### é‡Œç¨‹ç¢‘ 1: å®‰å…¨åŠ å›º (æœ¬å‘¨)
- å®ç°çœŸå®çš„è®¸å¯è¯éªŒè¯
- å»ºç«‹åŸºç¡€çš„åœ¨çº¿éªŒè¯
- æ·»åŠ  API ä¿æŠ¤æœºåˆ¶

### é‡Œç¨‹ç¢‘ 2: æ ¸å¿ƒå•†ä¸šåŠŸèƒ½ (æœ¬æœˆ)
- å¤šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- åŸºç¡€æƒé™æ§åˆ¶
- æ”¯ä»˜ç³»ç»Ÿé›†æˆ

### é‡Œç¨‹ç¢‘ 3: ä¼ä¸šçº§åŠŸèƒ½ (ä¸‹æœˆ)
- SSO é›†æˆ
- é«˜çº§å¤‡ä»½åŠŸèƒ½
- å®¡è®¡æ—¥å¿—ç³»ç»Ÿ

### é‡Œç¨‹ç¢‘ 4: ç”Ÿæ€æ‰©å±• (ä¸‹å­£åº¦)
- æ’ä»¶å¸‚åœº
- ç§»åŠ¨ç«¯æ”¯æŒ
- å¾®ä¿¡ç”Ÿæ€é›†æˆ

---

**æœ€åæ›´æ–°**: 2024-12-19
**å½“å‰ç‰ˆæœ¬**: v2.0.2
**å¼€å‘åˆ†æ”¯**: feature/business-architecture
**ä¸‹æ¬¡è¯„ä¼°**: 2024-12-26